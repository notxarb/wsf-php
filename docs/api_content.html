<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title></title>
  <meta name="CREATED" content="20061009;17484000">
  <meta name="CHANGED" content="20061011;10243100">
  <link href="style/api_style.css" rel="stylesheet" type="text/css"
  media="all">
</head>

<body lang="en-US" dir="ltr">
<h1>WSO2 WSF/PHP API</h1>

<p>WSO2 Web Services Framework/PHP is a PHP extension that can be used to provide 
    and consume Web services. This document covers the API of WSO2 WSF/PHP 
    extension.</p>
<a id="pre"></a>

<h2><b>Predefined Classes</b></h2>
<a id="client"></a>
<h2><b>WSClient</b></h2>
<a id="construct"></a>

<h3><b>Constructor</b></h3>
<a id="pre_WSClient"></a>
<ul>
  <li><p><b>WSClient([array options])</b></p>
  </li>
</ul>

<p>Constructs a new WSClient object.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
    <tr valign="top">
      <th style="width: 96px"><p>Parameter</p>
      </th>
      <th colspan="4"><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td style="width: 96px"><p>options</p>
      </td>
      <td colspan="4"><p align="left">An associative array of options. Both message 
          related properties, defined for WSMessage as well as WSClient specific options 
          defined below, can be included in the options array here. Please note that the 
          &quot;to&quot; option must be specified at some level in order to convey the service 
          endpoint to be invoked.<var></var></p>

        <p align="left">The following table shows the possible client specific options and 
            related details. Please refer to the WSMessage constructor documentation for 
            information on message level properties that can be used as options.</p>
      </td>
    </tr>
    <tr valign="top">
      <th style="width: 96px"><p>Option</p>
      </th>
      <th><p>Data Type</p>
      </th>
      <th><p>Value Domain</p>
      </th>
      <th><p>Default Value</p>
      </th>
      <th style="width: 424px"><p>Description</p>
      </th>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>Transport Binding/Protocol Related Options</p>
      </td>
    </tr>
      <tr valign="top">
      <td style="width: 96px; height: 123px;"><p>&quot;transportURL&quot;</p>
      </td>
      <td style="height: 123px"><p>string</p>
      </td>
      <td style="height: 123px"><p>string</p>
      </td>
      <td style="height: 123px"><p>none</p>
      </td>
      <td style="width: 424px; height: 123px"><p>If the soap message should be sent to a 
          soap intermediatory while the actual WS-Addressing &quot;to&quot; header is containing 
          some other endopint, this option should be specified. </p>
      </td>
    </tr>
    <tr valign="top">
      <td style="width: 96px; height: 123px;"><p>&quot;useSOAP&quot;</p>
      </td>
      <td style="height: 123px"><p>boolean | double | string</p>
      </td>
      <td style="height: 123px"><p>TRUE | FALSE | <br>
          1.1 | 1.2 | <br>
          &quot;1.1&quot; | &quot;1.2&quot;</p>
      </td>
      <td style="height: 123px"><p>TRUE</p>
      </td>
      <td style="width: 424px; height: 123px"><p>Specifies whether to use SOAP bindings, 
          or not. If FALSE, a REST style invocation will take place with the given HTTP 
          method as specified by the &quot;HTTPMethod&quot; option. 1.1 or &quot;1.1&quot; would make the 
          message use SOAP 1.1. 1.2 or &quot;1.2&quot; would make the message use SOAP 1.2. TRUE 
          means use SOAP 1.2.</p>
      </td>
    </tr>
    <tr valign="top">
      <td style="width: 96px; height: 55px"><p>&quot;HTTPMethod&quot;</p>
      </td>
      <td style="height: 55px"><p>string <br>
          case insensitive</p>
      </td>
      <td style="height: 55px"><p>&quot;GET&quot; | &quot;POST&quot; | &quot;post&quot; | &quot;get&quot; | &quot;PUT&quot; | &quot;put&quot; | 
          &quot;DELETE&quot; | &quot;delete&quot;&nbsp;</p>
      </td>
      <td style="height: 55px"><p>&quot;POST&quot;</p>
      </td>
      <td style="height: 55px; width: 424px;"><p>Specifies which HTTP method to be used.</p>
      </td>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>XOP/MTOM Related Options</p>
      </td>
    </tr>
    <tr valign="top">
      <td style="height: 51px; width: 96px;"><p>&quot;useMTOM&quot;</p>
      </td>
      <td style="height: 51px"><p>boolean | string</p>
      </td>
      <td style="height: 51px"><p>TRUE | FALSE | &quot;swa&quot;</p>
      </td>
      <td style="height: 51px"><p>TRUE</p>
      </td>
      <td style="height: 51px; width: 424px;"><p>Indicates whether the attachments should 
          be sent MTOM optimized or not. If TRUE, the attachments will be sent out of the 
          SOAP message, optimized, with MIME headers in place. If FALSE, attachments will 
          be sent within the SOAP payload, as base64 binary. If &quot;swa&quot; is provided then the 
          attachments will be send following the SOAP With Attachment standards.</p>
      </td>
    </tr>
    <tr valign="top">
      <td style="width: 96px"><p>&quot;responseXOP&quot;</p>
      </td>
      <td><p>boolean</p>
      </td>
      <td><p>TRUE | FALSE</p>
      </td>
      <td><p>FALSE</p>
      </td>
      <td style="width: 424px"><p style="margin-bottom: 0in">Controls whether XOP elements 
          in a response with MTOM are resolved into the logically equivalent straight XML 
          infoset or not. If TRUE, the member variable &quot;attachments&quot; of the message 
          returned as a result of the calling request method would be set. If FALSE, the 
          binary content will be present in the response payload in base64 format.</p>
      </td>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>WS-Addressing Related Options</p>
      </td>
    </tr>
    <tr valign="top">
      <td style="width: 96px"><p>&quot;useWSA&quot;</p>
      </td>
      <td><p>boolean | double | string</p>
      </td>
      <td><p>TRUE | FALSE | <br>
          1.0 | <br>
          &quot;1.0&quot; | &quot;submission&quot;</p>
      </td>
      <td><p>&quot;1.0&quot;</p>
      </td>
      <td style="width: 424px"><p>Indicates whether to use WS-Addressing. If TRUE, 1.0 or 
          &quot;1.0&quot;, the WS-Addressing 1.0 version will be used, if &quot;submission&quot; the 
          WS-Addressing submission version will be used. When 1.0, &quot;1.0&quot; or &quot;submission&quot; 
          is specified, the &quot;action&quot; must be present. If FALSE, no addressing headers will 
          be sent.</p>
      </td>
    </tr>
    <tr valign="top">
      <td colspan="5">WS-Security Related Options</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;policy&quot;</td>
      <td colspan="1" style="height: 20px">&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
          WSPolicy object</td>
      <td colspan="1" style="height: 20px">WSPolicy object</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">WSPolicy Object</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 21px; width: 96px;">&quot;securityToken&quot;</td>
      <td colspan="1" style="height: 21px">WSSecurityToken</td>
      <td colspan="1" style="height: 21px"></td>
      <td colspan="1" style="height: 21px">None</td>
      <td colspan="1" style="height: 21px; width: 424px;">WSSecurityToken object which 
          contain the security related options</td>
    </tr>
    <tr valign="top">
      <td colspan="5">Proxy and SSL settings related properties</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;proxyHost&quot;</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">proxy host to be used.</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 21px; width: 96px;">&quot;proxyPort&quot;</td>
      <td colspan="1" style="height: 21px">string</td>
      <td colspan="1" style="height: 21px">string</td>
      <td colspan="1" style="height: 21px">None</td>
      <td colspan="1" style="height: 21px; width: 424px;">proxy port to use.</td>
    </tr>
    <tr valign="top">
      <td colspan="5">WSDL Mode</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;wsdl&quot;</td>
      <td colspan="1" style="height: 20px">file path or URL of a WSDL file</td>
      <td colspan="1" style="height: 20px">FILE| URL</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">WSDL file can be used to invoke 
          a Web service using dynamic invocation. In case the wsdl requiring http 
          authentication you can set the options as an array using as follows.<br />
          array(&quot;wsdl&quot;=&gt;&quot;&lt;wsdl url&gt;&quot;,<br />
          &quot;httpAuthUsername&quot;=&gt;&quot;&lt;Username&gt;&quot;,<br />
          &quot;httpAuthPassword&quot;=&gt;&quot;&lt;Password&gt;&quot;,<br />
          &quot;httpAuthType&quot;=&gt;Basic | Digest)<br />
          These authentication options are same as below listed http authentication 
          options.</td>
    </tr>

    <tr valign="top">
      <td colspan="5">Http Authentication</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;httpAuthUsername&quot;</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">Http Authentication Information: 
          UserName</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;httpAuthPassword&quot;</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">Http Authentication Information: 
          Password</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;httpAuthType&quot;</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">&quot;Basic&quot; | &quot;Digest&quot;</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">Http Authentication Information: 
          Authentication type, use &quot;Basic&quot; to force basic authentication and &quot;Digest&quot; to 
          force digest authentication or NULL for not forcing authentication</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">
          &quot;timeout&quot;</td>
      <td colspan="1" style="height: 20px">
          int</td>
      <td colspan="1" style="height: 20px">
          seconds</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">
          Set the WSClient timeout time. This value in seconds. &nbsp;</td>
    </tr>
        <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">&quot;httpAuthType&quot;</td>
      <td colspan="1" style="height: 20px">string</td>
      <td colspan="1" style="height: 20px">&quot;Basic&quot; | &quot;Digest&quot;</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">Http Authentication Information: 
          Authentication type, use &quot;Basic&quot; to force basic authentication and &quot;Digest&quot; to 
          force digest authentication or NULL for not forcing authentication</td>
    </tr>
    <tr valign="top">
      <td colspan="1" style="height: 20px; width: 96px;">
          &quot;httpHeaders&quot;</td>
      <td colspan="1" style="height: 20px">
          array of strings</td>
      <td colspan="1" style="height: 20px">
          string</td>
      <td colspan="1" style="height: 20px">None</td>
      <td colspan="1" style="height: 20px; width: 424px;">
          Allows adding Http Headers. Eg arrary(&quot;MyHttpHeader&quot;=&gt;&quot;test&quot;) would add an http 
          header as MyHttpHeader with value test. &nbsp;</td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>
<a id="method"></a>

<h3><b>Methods</b></h3>
<a id="pre_WSMessage"></a>
<ul>
  <li><p><b>WSMessage WSClient-&gt;request (string message | WSMessage message)</b></p>
  </li>
</ul>

<p>Sends a request payload in XML format and receives a response payload in the XML 
    format.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>message</p>
      </td>
      <td><p>The request message payload to be sent. The type of the parameter can be any 
          one of the following types:</p>
        <ul>
          <li><p>string</p>
          </li>
          <li><p>WSMessage</p>
          </li>
        </ul>

        <p>The message payload is expected to be in valid XML format as expected by the 
            service. If MTOM/XOP is to be used, you must use WSMessage to represent the 
            message payload.</p>
      </td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>

<p>Return Values:</p>

<p>The response will be returned as a WSMessage object instance.</p>

<p>Throws <strong>WSFault</strong> on error.</p>

<p><b>void WSClient -&gt; send(string payload | WSMessage message)</b></p>

<p>Sends a request message payload in XML. The invocation model is one way, hence no 
    response will be expected.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>message</p>
      </td>
      <td><p>The request message payload to be sent. The type of the parameter can be any 
          one of the following types:</p>
        <ul>
          <li><p>string</p>
          </li>
          <li><p>WSMessage</p>
          </li>
        </ul>

        <p>The message payload is expected to be in valid XML format as expected by the 
            service. If MTOM/XOP is to be used, you must use WSMessage to represent the 
            message payload.</p>
      </td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>

<p>Return Values: void </p>
<p>throws <strong>WSFault</strong> on error.</p>
    
<ul>
<li><strong>&nbsp;string WSClient-&gt;getLastRequest() </strong>
<p>
        This function returns the last requested soap message as a string</p>
</li>
</ul>
<ul>
    <li><strong>&nbsp; string WSClient-&gt;getLastResponse() </strong>
        <p>
            This function returns the last received soap message as a string<br />
        </p>
    </li>
</ul>
<ul>
    <li><strong>&nbsp; string WSClient-&gt;getLastResponseHeaders() </strong>
        <p>
            This function returns an associative array of received http headers with header 
            name as the key and header value as the value<br />
        </p>
    </li>
</ul>

<h3><b>Member Variables</b></h3>
    None

<h3><b>Example</b></h3>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
        &lt;ns1:echoString xmlns:ns1=<span style="color: rgb(255, 0, 0);">&quot;http://wso2.org/wsfphp/samples&quot;</span>&gt;
                &lt;text&gt;Hello World!&lt;/text&gt;
        &lt;/ns1:echoString&gt;
XML;

    <span style="color: rgb(0, 0, 255);">$client</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSClient<span style="color: rgb(102, 204, 102);">(</span>
        <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;to&quot;</span>=&gt;<span style="color: rgb(255, 0, 0);">&quot;http://localhost/echo_service.php&quot;</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
                                
    <span style="color: rgb(0, 0, 255);">$resMessage</span> = <span style="color: rgb(0, 0, 255);">$client</span>-&gt;<span style="color: rgb(0, 102, 0);">request</span><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span><span style="color: rgb(102, 204, 102);">)</span>;
    
    <a href="http://www.php.net/printf"><span style="color: rgb(0, 0, 102);">printf</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;Response = %s &lt;br&gt;&quot;</span>, <a href="http://www.php.net/htmlspecialchars"><span style="color: rgb(0, 0, 102);">htmlspecialchars</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$resMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>

<p></p>
<a id="service"></a>

<h2><b>WSService</b></h2>
<a id="construct1"></a>

<h3><b>Constructor</b></h3>
<a id="service_WSService"></a>
<ul>
  <li><p><b>WSService (array options)</b></p>
  </li>
</ul>

<p>Constructs a new WSService object.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th colspan="4"><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>options</p>
      </td>
      <td colspan="4"><p align="left" style="font-weight: medium">An array of options. The 
          following table shows the possible options and related details.</p>
      </td>
    </tr>
    <tr valign="top">
      <th><p>Option</p>
      </th>
      <th><p>Data Type</p>
      </th>
      <th><p>Value Domain</p>
      </th>
      <th><p>Default Value</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>General Options:</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;actions&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>Array mapping WS-Addressing actions to service operations</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>Array mapping WS-Addressing actions to service operations.</p>

        <p>e.g. (&quot;uri1&quot; =&gt; &quot;operation1&quot;, &quot;uri2&quot; =&gt; &quot;operation2&quot;)</p>

        <p>The above basically means that the service would have two operations, 
            &quot;operation1&quot; and &quot;operation2&quot; with WSA actions &quot;uri1&quot; and &quot;uri2&quot; respectively.</p>

        <p>If there is an operation, with no WSA action mapping, you can specify the array 
            as follows.</p>

        <p>e.g. (&quot;uri3&quot; =&gt; &quot;operation3&quot;, &quot;operation4&quot;)</p>

        <p>A user defined function implementing an operation of a service should have the 
            following syntax:<br>
        <br>
            string&nbsp; function1 (WSMessage message);</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;operations&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>Array mapping operation names to functions</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>Array mapping operation names to functions.</p>

        <p>e.g. (&quot;operation1&quot; =&gt; &quot;function1&quot;, &quot;operation2&quot; =&gt; &quot;function2&quot;)</p>

        <p>The above basically means that the service would have two operations, 
            &quot;operation1&quot; and &quot;operation2&quot; with the implementing functions &quot;function1&quot; and 
            &quot;function2&quot; respectively.</p>

        <p>If there is a function, with the same operation name as that of the function 
            name, you can specify the array as follows.</p>

        <p>e.g. (&quot;operation3&quot; =&gt; &quot;function3&quot;, &quot;function4&quot;)</p>

        <p>The above means that there are two operations, namely &quot;operation3&quot; and 
            &quot;function4&quot;, and that they are implemented by functions &quot;function3&quot; and 
            &quot;function4&quot; respectively</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;classes&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>Array mapping of class names to class information array</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>Array mapping of class names to class information array</p>

        <p>e.g. (&quot;classes&quot; =&gt; array(&quot;foo&quot;=&gt;array( &quot;operations&quot; =&gt;$ops, &quot;actions&quot;=&gt;$actions, 
            &quot;args&quot;=&gt;$args)))</p>
        <p>
            The above basically means that the service would expose the methods of class 
            &#39;foo&#39;. The methods to be exposed are provided as &quot;operations&quot; associative array 
            which is an operations to functions mapping. &quot;actions&quot; is an array of operation 
            to action mapping. Which is same as above defined actions options.</p>
        <p>
            &quot;args&quot; is an array of arguments to be passed to the class constructor. If the 
            class constructor does not accepts arguments , this options need not be 
            specified.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;opMEP&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>&quot;IN_ONLY&quot; | &quot;IN_OUT&quot;</p>
      </td>
      <td><p>IN_OUT</p>
      </td>
      <td><p>Array mapping operation names to the operation&#39;s message exchange pattern. 
          This option is only required with reliable messaging for one way. By default, 
          the &quot;IN_OUT&quot; message exchange pattern is assumed. If explicitly provided by the 
          user, the &quot;IN_ONLY&quot; pattern will be used.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;opParams&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>&quot;WSMESSAGE&quot; | &quot;MIXED&quot;</p>
      </td>
      <td><p>&quot;MIXED&quot; if &quot;wsdl&quot; option provided. &quot;WSMESSAGE&quot; otherwise</p>
      </td>
      <td><p>This option specifies what a PHP function corresponding to the service 
          operation would accept as arguments. If the &#39;wsdl&#39; option is set this option is 
          default to MIXED, otherwise it is default to WSMESSAGE. If you are using the 
          service for WSDL Generations with the use of doc comments, you have to set this 
          parameter to MIXED explicitly. .</p>
      </td>
    </tr>
     <tr valign="top">
      <td><p>
            &quot;RESTMapping&quot;</p>
      </td>
      <td><p>array</p>
      </td>
      <td><p>Array mapping of operations to HTTPMethod and Location</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>Array mapping of Operations to its corresponding HTTPMethod and Location.
      </p>
                <p>
                    When exposing an operation as a REST style operation, it is required to map an 
                    operation to an HTTPMethod. Also a unique url that maps to the operation should 
                    be specified. Here the first portion of the url will be same for all operations 
                    defined for a given operations and it will be the service url. The last portion 
                    of it will be the string specified in RESTLocation attribute. This string can be 
                    a string as well as a matching pattern.
                </p>
                <p>
                    Consider we have an operation foo defined in our web service which we want to 
                    expose as a REST operation with the url http://test.org/foo_service.php/fooOp 
                    and with HTTPMethod POST.Assume that the service url is 
                    ttp://test.org/foo_service.php.</p>
          <p>
              e.g. (&quot;RESTMapping&quot; =&gt; array(&quot;foo&quot;=&gt;array( &quot;HTTPMethod&quot; =&gt;&quot;POST&quot;, 
              &quot;RESTLocation&quot;=&gt;&quot;fooOp&quot;)));</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;wsdl&quot;</p>
      </td>
      <td><p>A file path or a URL pointing to implementing a service&#39;s WSDL</p>
      </td>
      <td>FILE | URL</td>
      <td><p>none</p>
      </td>
      <td><p>This option is used to specify the WSDL file of the service.</p>
        <p>
            &nbsp;</p>
      </td>
    </tr>
        <tr valign="top">
            <td style="height: 21px">
                &quot;serviceName&quot;</td>
            <td style="height: 21px">
                &nbsp;string</td>
            <td style="height: 21px">
                string</td>
            <td style="height: 21px">
                none</td>
            <td style="height: 21px">
                This option is used to specify the name for service in WSDL generation</td>
        </tr>
    <tr>
      <td colspan="5" valign="top"><p>XOP/MTOM Related Options</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;useMTOM&quot;</p>
      </td>
      <td><p>boolean | string </p>
      </td>
      <td><p>TRUE | FALSE | &quot;swa&quot;</p>
      </td>
      <td><p>TRUE</p>
      </td>
      <td><p>Indicates whether the attachments should be sent MTOM optimized or not. If 
          TRUE, attachments will be sent out of the SOAP message, optimized, and with MIME 
          headers in place. If FALSE, attachments will be sent within the SOAP payload, as 
          base64 binary. If &quot;swa&quot; is provided then the attachments will be send following 
          the SOAP With Attachment standards.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;requestXOP&quot;</p>
      </td>
      <td><p>boolean</p>
      </td>
      <td><p>TRUE | FALSE</p>
      </td>
      <td><p>FALSE</p>
      </td>
      <td><p style="margin-bottom: 0in">Controls whether XOP elements in a request with 
          MTOM are resolved into the logically equivalent straight XML infoset or not. If 
          TRUE, the member variable &quot;attachments&quot; of the WSMessage object passed to the 
          function implementing the operation will be set. If FALSE, the binary content 
          will be present in the response payload in base64 format.</p>
      </td>
    </tr>
        <tr>
      <td colspan="5" valign="top"><p>WS-Security Related options</p>
      </td>
    </tr>
    <tr valign="top">
      <td style="height: 38px"><p>&quot;policy&quot;</p>
      </td>
      <td style="height: 38px"><p>WSPolicy Object</p>
      </td>
      <td style="height: 38px"><p>WSPolicy Object</p>
      </td>
      <td style="height: 38px"><p>None</p>
      </td>
      <td style="height: 38px">WSPolicy object which represents Service or client Policy.
        </td>
    </tr>
    <tr valign="top">
      <td>&quot;securityToken&quot;</td>
      <td>WSSecurityToken Object</td>
      <td>WSSecurityToken</td>
      <td>None</td>
      <td>WSSecurityToken object which contains the security related options.</td>
    </tr>
     <tr>
      <td>
            opPolicies
        </td>
      <td>
            array</td>
      <td style="width: 195px">
            mixed</td>
      <td>none</td>
      <td>
            This option can be used to specify operation level policies. For example 
            consider we wanted to set the policy for an operation foo. Then it would be like<br />
            &quot;opPolicies&quot;=&gt;array(&quot;foo&quot;=&gt;$policy);<br />
            $policy is a WSPolicy object.</td>
    </tr>
     <tr>
      <td>
                useOwnSTS</td>
      <td>
                boolean</td>
      <td style="width: 195px">
                boolean</td>
      <td>
                FALSE</td>
      <td>
                When this option is set to true, a security enabled service can act as a 
                security token service in addition to providing the service functionality.</td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>
<a id="method1"></a>

<h3><b>Methods</b></h3>
<a id="service_void_WSService"></a>
<ul>
  <li><p><b>void WSService - &gt;reply()</b></p>
  </li>
</ul>

<p>Sends the reply in response to a client invocation. Here, the service will 
    process the request, call the necessary methods and send a response back.</p>

<p>Parameters: void</p>

<p>Return Values: void</p>

<p>Throws WSFault on error.</p>

<p><br>
</p>

<h3><b>Member Variables</b></h3>
    None <br>


<h3><b>Example</b></h3>
<pre><span style="color: rgb(0, 0, 0); font-weight: bold;">function</span> echoFunction<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span><span style="color: rgb(102, 204, 102);">)</span> <span style="color: rgb(102, 204, 102);">{</span>
&nbsp;
    <span style="color: rgb(0, 0, 255);">$returnMessage</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSMessage<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span>;
&nbsp;
    <span style="color: rgb(177, 177, 0);">return</span> <span style="color: rgb(0, 0, 255);">$returnMessage</span>;
<span style="color: rgb(102, 204, 102);">}</span>
&nbsp;
<span style="color: rgb(0, 0, 255);">$operations</span> = <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;echoString&quot;</span> =&gt; <span style="color: rgb(255, 0, 0);">&quot;echoFunction&quot;</span><span style="color: rgb(102, 204, 102);">)</span>;
&nbsp;
<span style="color: rgb(0, 0, 255);">$svr</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSService<span style="color: rgb(102, 204, 102);">(</span><a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;operations&quot;</span> =&gt; <span style="color: rgb(0, 0, 255);">$operations</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
        
<span style="color: rgb(0, 0, 255);">$svr</span>-&gt;<span style="color: rgb(0, 102, 0);">reply</span><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>

<p></p>
<a id="message"></a>

<h2><b>WSMessage</b></h2>
    The WSMessage class represents a message passed between a client and a service. 
    This class encapsulates the XML payload in various formats, the WS-Addressing 
    action information related to the message, the MTOM attachment data, and other 
    properties related to a message. <a id="construct3"></a>

<h3><b>Constructor</b></h3>
<a id="message_WSMessage"></a>
<ul>
  <li><b>WSMessage (string payload [, array properties])</b></li>
</ul>

<p>Constructs a new WSMessage object.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th colspan="4"><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>payload</p>
      </td>
      <td colspan="4"><p>Request payload being sent or being received. The type of the 
          parameter can be any one of the following types:</p>
        <ul>
          <li><p>string</p>
          </li>
        </ul>

        <p>The payload is expected to be in valid XML format as expected by the service.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>properties</p>
      </td>
      <td colspan="4"><p align="left">An array of properties.</p>

        <p align="left">The following table shows the possible message level properties and 
            related details.</p>
      </td>
    </tr>
    <tr valign="top">
      <th style="height: 44px"><p>Option</p>
      </th>
      <th style="height: 44px"><p>Data Type</p>
      </th>
      <th style="height: 44px"><p>Value Domain</p>
      </th>
      <th style="width: 109px; height: 44px;"><p>Default Value</p>
      </th>
      <th style="width: 465px; height: 44px;"><p>Description</p>
      </th>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>General Properties:</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;to&quot;</p>
      </td>
      <td><p>
          Mixed</p>
      </td>
      <td><p>
          String or an array</p>
      </td>
      <td style="width: 109px"><p>None</p>
      </td>
      <td style="width: 465px"><p>A URI representing the endpoint URI of the service to be 
          consumed. This must be present on the client side. In case WS-Addressing is in 
          use, this will be used as the WSA To header. Additionaly in case of addressing, 
          you can set reference parameters using the following array of options as 
          following sample code.</p>
    <p>
        array(&quot;address&quot;=&gt;&quot;to URL&quot;, &quot;referenceParameters&quot;=&gt;array of xml strings)</p>
    <p>
        &quot;referenceParameters&quot;&nbsp; are addressing options.</p>
      </td>
    </tr>
    <tr>
      <td colspan="5" valign="top" style="height: 21px"><p>WS-Addressing Related 
          Properties:</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;action&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>A URI</p>
      </td>
      <td style="width: 109px"><p>None</p>
      </td>
      <td style="width: 465px"><p>xs:anyURI <br clear="all">
          The WS-A action to use when constructing the WS-A headers. A URI representing 
          the WSA action that helps uniquely identify the operation to be invoked. This is 
          also used as the SOAP Action regardless of whether the useWSA option is 
          specified or not.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;from&quot;</p>
      </td>
      <td><p>
            Mixed</p>
      </td>
      <td><p>
            String or an array</p>
      </td>
      <td style="width: 109px"><p>None</p>
      </td>
      <td style="width: 465px">

        <p>WS-Addressing From. A URI indicating where the response or request came from 
            (xs:anyURI). You can set reference parameters using the following array of 
            options.</p>
            <p>
                array(&quot;address&quot;=&gt;&quot;from URL&quot;, &quot;referenceParameters&quot;=&gt;array of xml strings)</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;replyTo&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>A URI</p>
      </td>
      <td style="width: 109px"><p>None</p>
      </td>
      <td style="width: 465px">

        <p>WS-Addressing ReplyTo. A URI indicating where the response should be sent to. The 
            default value is the anonymous URI (depending on the version). You can set 
            reference parameters using the following array of options.
      </p>
          <p>
              array(&quot;address&quot;=&gt;&quot;replyTo URL&quot;, &quot;referenceParameters&quot;=&gt;array of xml strings)</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;faultTo&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>A URI</p>
      </td>
      <td style="width: 109px"><p>None</p>
      </td>
      <td style="width: 465px"><p>WS-Addressing FaultTo. A URI indicating where the fault 
          should be sent to in case of an error. You can set reference parameters using 
          the following array of options.
      </p>
          <p>
              array(&quot;address&quot;=&gt;&quot;faultTo URL&quot;, &quot;referenceParameters&quot;=&gt;array of xml strings)</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;WSAMustUnderstand&quot;</p>
      </td>
      <td><p>bool</p>
      </td>
      <td><p>boolean vlaue</p>
      </td>
      <td style="width: 109px"><p>FALSE</p>
      </td>
      <td style="width: 465px"><p>mustUndertsand attribute can be added to addressing 
          headers by setting this option to TRUE.</p>
      </td>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>XOP/MTOM Related Properties:</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;defaultAttachmentContentType&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>MTOM content type</p>
      </td>
      <td style="width: 109px"><p>&quot;application/octet-stream&quot;</p>
      </td>
      <td style="width: 465px"><p style="margin-bottom: 0in">Specify a default MTOM 
          content type to be used with MTOM attachments. You can also specify 
          xmlmime:contentType on the xop:Include element, which will override this 
          setting.</p>
      </td>
    </tr>
     <tr valign="top">
      <td><p>
                  &quot;attachments&quot;</p>
      </td>
      <td><p>
                  array</p>
      </td>
      <td><p>
                  array</p>
      </td>
      <td style="width: 109px"><p>
                  NONE</p>
      </td>
      <td style="width: 465px">
                  This is an associative array which maps the string value specified in the xml to 
                  the matching binary string. If attachment caching is enabled, you can set the 
                  file name instead of the binary string.</td>
    </tr>
   
     <tr>
      <td colspan="5" valign="top"><p>Custom SOAP Headers</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;inputHeaders&quot;</p>
      </td>
      <td><p>array of WSHeader objecs</p>
      </td>
      <td><p>
          array of WSHeader objecs</p>
      </td>
      <td style="width: 109px"><p>NONE</p>
      </td>
      <td style="width: 465px">
          When an array of WSHeader objects is set to the options array, these headers 
          will be present on the outgoing SOAP Envelope.</td>
    </tr>
    <tr>
      <td colspan="5" valign="top"><p>REST</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;contentType&quot;</p>
      </td>
      <td><p>
          string</p>
      </td>
      <td><p>
          string</p>
      </td>
      <td style="width: 109px"><p>NONE</p>
      </td>
      <td style="width: 465px">
          When exposing an operation in REST Style,you can get/set media type of the 
          content using this attribute of WSMessage</td>
    </tr>
   
  </tbody>
</table>

<p><br>
          &nbsp;</p>
<a id="method3"></a>

<h3><b>Methods</b></h3>

<p>None</p>
<a id="WSMessage_Member_ariables"></a>

<h3><b>Member Variables</b></h3>
<ul>
  <li><p><b>string str</b></p>
  </li>
</ul>

<p>Stores the last SOAP request or response payload sent in the message as an XML 
    string.</p>
<ul>
  <li><b>array attachments</b></li>
</ul>

<p>An associative array, containing the information on the binary attachments, e.g., 
    array(&quot;cid1&quot; =&gt; $image)) Here &quot;cid1&quot; is the ID mentioned in the &lt;XOP:Include&gt; 
    element, and $image contains the string representation of the binary content to 
    be sent or being received. If attachment caching is enabled, and the received 
    attachment is larger that 1 Mb, then it will be saved to the location defined in 
    wsf.attachment_cache_dir and in the value stored will be the filename.
                  </p>
<br>

<ul>
  <li><p><b>array cid2contentType</b></p>
  </li>
</ul>

<p>An associative array, containing the mapping of cid (content ID) to its 
    corresponding&nbsp;&nbsp;&nbsp;&nbsp; attachment. When an attachment is 
    received, this property will be present in the WSMessage object. <b>array 
    inputHeaders</b></p>

<p>An array of WSHeader objects (corresponds to Soap Headers ) being sent.
</p>

<h3><b>Example</b></h3>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
        &lt;ns1:<a href="http://www.php.net/echo"><span style="color: rgb(0, 0, 102);">echo</span></a> xmlns:ns1=<span style="color: rgb(255, 0, 0);">&quot;http://wso2.org/wsfphp/samples&quot;</span>&gt;
                &lt;text&gt;Hello World!&lt;/text&gt;
        &lt;/ns1:echo&gt;
XML;

    <span style="color: rgb(0, 0, 255);">$reqMessage</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSMessage<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span>,
        <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;to&quot;</span>=&gt;<span style="color: rgb(255, 0, 0);">&quot;http://localhost/echo_service_addr.php&quot;</span>,
              <span style="color: rgb(255, 0, 0);">&quot;action&quot;</span> =&gt; <span style="color: rgb(255, 0, 0);">&quot;http://wso2.org/wsfphp/samples/echoString&quot;</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
              
    <span style="color: rgb(0, 0, 255);">$client</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSClient<span style="color: rgb(102, 204, 102);">(</span><a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;useWSA&quot;</span> =&gt; <span style="color: rgb(0, 0, 0); font-weight: bold;">TRUE</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
                                
    <span style="color: rgb(0, 0, 255);">$resMessage</span> = <span style="color: rgb(0, 0, 255);">$client</span>-&gt;<span style="color: rgb(0, 102, 0);">request</span><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqMessage</span><span style="color: rgb(102, 204, 102);">)</span>;
    
    <a href="http://www.php.net/printf"><span style="color: rgb(0, 0, 102);">printf</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;Response = %s <span style="color: rgb(0, 0, 153); font-weight: bold;">\n</span>&quot;</span>, <span style="color: rgb(0, 0, 255);">$resMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span>;
&nbsp;
</pre>
<a id="fault"></a>

<h2><b>WSFault</b></h2>
<a id="construct2"></a>

<h3><b>Constructor</b></h3>
<a id="fault_WSFault"></a>
<ul>
  <li><p><b>WSFault(string code, string reason [, string role, string detail])</b></p>
  </li>
</ul>

<p>Constructs a new WSFault object.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
  </thead>
  <tbody>
    <tr valign="top">
      <th><p>Option</p>
      </th>
      <th><p>Data Type</p>
      </th>
      <th><p>Value Domain</p>
      </th>
      <th><p>Default Value</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
    <tr valign="top">
      <td><p>&quot;code&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>An error code string</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>SOAP fault code. SOAP fault codes are intended to provide a means by which 
          faults are classified.<br>
          Please see <a
        href="http://www.w3.org/TR/soap12-part1/#faultcodes">SOAP 1.2 spec</a> for more 
          information.This is a mandatory option.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;reason&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>Reason string</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>SOAP fault reason. Provides a human readable explanation of the fault.This is 
          a mandatory option.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;role&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>Role string</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>SOAP fault role. Identifies the role in which the SOAP processing node was 
          operating at the time the fault occurred.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>&quot;detail&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>Detail string</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>SOAP Fault detail. Contains application specific error information.</p>
      </td>
    </tr>
  </tbody>
</table>

<p>
        code and reason are mandatory arguments for WSFault constructor.<br>
<br>
</p>
<a id="method2"></a>

<h3><b>Methods</b></h3>
<a id="A1"></a>
<ul>
  <li><p><b>WSFault-&gt;__toString()</b></p>
    <p>Returns the fault information as a string</p>
  </li>
</ul>
<br>
<a id="member_variables"></a>

<h3><b>Member Variables</b></h3>
<ul>
  <li><p><b>string Code</b></p>
  </li>
</ul>

<p>SOAP fault code. SOAP fault codes are intended to provide a means by which faults 
    are classified.</p>
<ul>
  <li><p><b>string Reason</b></p>
  </li>
</ul>

<p>SOAP fault reason. Provides a human readable explanation of the fault.</p>
<ul>
  <li><p><b>string Role</b></p>
  </li>
</ul>

<p>SOAP fault role. Identifies the role in which the SOAP processing node was 
    operating at the time the fault occurred.</p>
<ul>
  <li><b>string Detail</b></li>
</ul>

<p>SOAP fault detail. Contains application specific error information.</p>
<br>

<ul>
  <li><b>string str</b></li>
</ul>

<p>Contains the received SOAP fault as an XML string.</p>
<a id="function"></a>
<a id="#header"></a>
<h2><b>WSHeader</b></h2>
<a id="#header_construct"></a>
<h3><b>Constructor</b></h3>
<ul>
  <li><p><b>WSHeader(array options)</b></p>
  </li>
</ul>

<p>Constructs a new WSHeader object.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
  </thead>
  <tbody>
    <tr valign="top">
      <th><p>Option</p>
      </th>
      <th><p>Data Type</p>
      </th>
      <th><p>Value Domain</p>
      </th>
      <th><p>Default Value</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
    <tr valign="top">
      <td><p>
          &quot;ns&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>
          Soap Header&#39;s namespace uri</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>
          namespace uri
    </p>
      </td>
    </tr>
     <tr valign="top">
      <td><p>
          &quot;prefix&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>
          Soap Header&#39;s namespace prefix</p>
      </td>
      <td><p>None</p>
      </td>
      <td><p>
          namespace prefix string</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>
          &quot;name&quot;</p>
      </td>
      <td><p>string</p>
      </td>
      <td><p>
          Soap Header element&#39;s localname</p>
      </td>
      <td><p>None</p>
      </td>
      <td>
          Header element localname</td>
    </tr>
    <tr valign="top">
      <td><p>
          &quot;data&quot;</p>
      </td>
      <td><p>
          mixed</p>
      </td>
      <td><p>
          string or an array of WSHeader objecs</p>
      </td>
      <td><p>None</p>
      </td>
      <td>
          If an string is provided it will be taken as the text value of the xml header 
          element. If an array of WSHeader objects is provided, they will be added as the 
          child elements of the parent WSHeader object.</td>
    </tr>
    <tr valign="top">
      <td><p>
          &quot;mustUnderstand&quot;</p>
      </td>
      <td><p>
          boolean</p>
      </td>
      <td><p>
          true | false
      </p>
      </td>
      <td><p>None</p>
      </td>
      <td>
          specify whether to add mustUnderstand attribute to the Soap Header or not</td>
    </tr>
    <tr valign="top">
      <td><p>
              &quot;role&quot;</p>
      </td>
      <td><p>
              int</p>
      </td>
      <td><p>
              WS_SOAP_ROLE_NEXT | WS_SOAP_ROLE_NONE |WS_SOAP_ROLE_ULTIMATE_RECEIVER</p>
      </td>
      <td><p>None</p>
      </td>
      <td>
          Soap Header role value.</td>
    </tr>
  </tbody>
</table>


<h2><b>Predefined Functions</b></h2>
<ul>
  <li><h4><a id="ws_request"></a><b>WSMessage ws_request (string payload | WSMessage 
      payload&nbsp; [, array options])</b></h4>
  </li>
</ul>

<p>Sends a request, invoking a service and receives the response. Adheres to the 
    Out-In message exchange pattern.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>payload</p>
      </td>
      <td><p>Request payload to be sent. The type of the parameter can be any one of the 
          following types:</p>
        <ul>
          <li><p>string</p>
          </li>
          <li><p>WSMessage</p>
          </li>
        </ul>

        <p>The payload is expected to be in valid XML format as expected by the service. If 
            MTOM/XOP is to be used, you must use WSMessage to represent the payload.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>options</p>
      </td>
      <td colspan="1"><p align="left">An associative array of options. Both message 
          specific options, defined for WSMessage as well as client specific options 
          defined for WSClient can be included in the options array. Please refer to the 
          WSClient() constructor method for more information on the available options. <var></var></p>
      </td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>

<p>Return Values:</p>

<p>WSMessage object instance representing a response.</p>

<p>Throws WSFault on error.</p>
<br/>


<p>Example</p>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
    &lt;ns1:echoString xmlns:ns1=<span style="color: rgb(255, 0, 0);">&quot;http://php.wsf.wso2.net/samples&quot;</span>&gt;
        &lt;text&gt;Hello World!&lt;/text&gt;
    &lt;/ns1:echoString&gt;
XML;

    <span style="color: rgb(0, 0, 255);">$resMessage</span> = ws_request<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span>, 
                        <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;to&quot;</span>=&gt;<span style="color: rgb(255, 0, 0);">&quot;http://localhost/echo_service.php&quot;</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;
    
    <a href="http://www.php.net/printf"><span style="color: rgb(0, 0, 102);">printf</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;Response = %s &lt;br&gt;&quot;</span>, <a href="http://www.php.net/htmlspecialchars"><span style="color: rgb(0, 0, 102);">htmlspecialchars</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$resMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>
<br>

<ul>
  <li><h4><a id="ws_send"></a><b>void ws_send (string payload&nbsp; | WSMessage 
      payload [, array options])</b></h4>
  </li>
</ul>

<p>Sends a request, invoking a service. Adheres to the Out-Only message exchange 
    pattern, hence expects no response. However, throws an WSFault instance in case 
    of errors.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>payload</p>
      </td>
      <td><p>Request payload to be sent. The type of the parameter can be any one of the 
          following types:</p>
        <ul>
          <li><p>string</p>
          </li>
          <li>WSMessage</li>
        </ul>

        <p>The payload is expected to be in valid XML format as expected by the service. If 
            MTOM/XOP is to be used, one must use WSMessage to represent the payload.</p>
      </td>
    </tr>
    <tr valign="top">
      <td><p>options</p>
      </td>
      <td colspan="1"><p align="left">An associative array of options. Both message 
          specific options, defined for WSMessage as well as client specific options 
          defined for WSClient can be included in the options array. Please refer to the 
          WSClient() constructor method for more information on available options. <var></var></p>
      </td>
    </tr>
  </tbody>
</table>

<p><br>
<br>
</p>

<p>Return Values:</p>

<p>void</p>

<p>Throws WSFault on error.</p>
<br>


<p>Example</p>
<pre><span style="color: rgb(0, 0, 255);">$reqPayloadString</span> = &lt;&lt;&lt;XML
        &lt;ns1:notifyString xmlns:ns1=<span style="color: rgb(255, 0, 0);">&quot;http://php.wsf.wso2.net/samples&quot;</span>&gt;
                &lt;text&gt;Hello World!&lt;/text&gt;
        &lt;/ns1:notifyString&gt;
XML;
&nbsp;
    ws_send<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$reqPayloadString</span>,
               <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;to&quot;</span>=&gt;<span style="color: rgb(255, 0, 0);">&quot;http://localhost/reply_notify_service.php&quot;</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>
<br>

<ul>
  <li><h4><a id="ws_reply"></a><b>void ws_reply (array options)</b></h4>
  </li>
</ul>

<p>Receives a request, processes the request and sends the resulting response. By 
    default, this method adheres to the In-Out message exchange pattern, however it 
    is also possible to have the In-Only message exchange pattern, depending on the 
    nature of the operation being invoked.</p>

<p>Parameters:</p>

<table cellspacing="3" style="page-break-inside: avoid" cellpadding="4"
border="1">
  <col><col><col><col><col><col><thead>
    <tr valign="top">
      <th><p>Parameter</p>
      </th>
      <th colspan="1"><p>Description</p>
      </th>
    </tr>
  </thead>
  <tbody>
    <tr valign="top">
      <td><p>options</p>
      </td>
      <td colspan="1"><p align="left" style="font-weight: medium">An associative array of 
          options. Both message specific options, defined for WSMessage as well as service 
          specific options defined for WSService can be included in the options array 
          here. Please refer to the WSService() constructor method for more information on 
          the available options.</p>
      </td>
    </tr>
  </tbody>
</table>

<p>Return Values:</p>

<p>void</p>

<p>Throws WSFault on error.</p>
<br>


<p>Example</p>
<pre><span style="color: rgb(0, 0, 0); font-weight: bold;">function</span> echoFunction<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span><span style="color: rgb(102, 204, 102);">)</span> <span style="color: rgb(102, 204, 102);">{</span>
    <span style="color: rgb(0, 0, 255);">$returnMessage</span> = <span style="color: rgb(0, 0, 0); font-weight: bold;">new</span> WSMessage<span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(0, 0, 255);">$inMessage</span>-&gt;<span style="color: rgb(0, 102, 0);">str</span><span style="color: rgb(102, 204, 102);">)</span>;
    <span style="color: rgb(177, 177, 0);">return</span> <span style="color: rgb(0, 0, 255);">$returnMessage</span>;
<span style="color: rgb(102, 204, 102);">}</span>

ws_reply<span style="color: rgb(102, 204, 102);">(</span><a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;operations&quot;</span> =&gt; <a href="http://www.php.net/array"><span style="color: rgb(0, 0, 102);">array</span></a><span style="color: rgb(102, 204, 102);">(</span><span style="color: rgb(255, 0, 0);">&quot;echoString&quot;</span> =&gt; <span style="color: rgb(255, 0, 0);">&quot;echoFunction&quot;</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span><span style="color: rgb(102, 204, 102);">)</span>;</pre>

<p><br>
</p>
</body>
</html>
